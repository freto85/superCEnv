{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
  <div class="jumbotron jumbotron-fluid" style="margin-top: 40px; border: 10px solid #45284d; background-color:#643a71;">
    <h1 class='contentfont'>Chat with {{ other_person.username }}</h1>
    <div class="container" style='margin-left: 10px;margin-right: 40px !important; border: 2px solid black; background:white; margin-bottom: 20px;'>
      <div class="dropdown-divider"></div>
      {% for m in messages %}
        <p><strong>{{m.sender}}:</strong> {{ m.message_dataID.content }}</p>
        <p>{{m.created_at}}</p>
      {% endfor %}
      <div class="dropdown-divider"></div>
    </div>
    <form class="post-form" method="POST">
      <div class="container">
        {% csrf_token %}
        {{form.as_p}}
      </div>
      <button type="submit" class='save btn btn-primary custom-btn btn-lg'>New Message</button>
    </form>
    <div class="dropdown-divider"></div>
    <a class="btn btn-primary btn-lg custom-btn" href="{% url 'accounts:messages_list' %}" role='button' style="display: flex; justify-content: center; margin-top: 30px !important;">Back to List of Users</a>
  </div>

</div>
<script>var editor = new MediumEditor('.editable');</script>
{% endblock %}
